---
title: "US 2016 Election Analysis"
date: 2018-06-11
tags: [data wrangling, data visualization, prediction, R]
header:
excerpt: "data wrangling, data visualization, prediction, R"
mathjax: "true"
categories: project
---
# [All Codes in Github](https://github.com/Mubai-Liu/US-2016-Election)
## Background Discussion

### Q1: What makes predicting voter behavior (and thus election forecasting) a hard problem?

Many reasons may lead to the difficulty of predicting the voter behavior and election forecasting. The first one may be the number of voters for the
2016’s polls. While we expect that the equal number of Democrats and Republicians, it turned out that the Republican have much more voters than Democratic voters. Secondly, voters may change their decision. Several causes are whether or not the voter is a minority, their income earned, and the gender of those voters. We should analyze all those factors that may have influence on individual’s vote. What's more, it turns out that many voters would change their vote in the week that leads up to voting according to previous elections. Last but not least, unpredictable future events that will happen. The society may change their attitude due to the news they’ve found on the TV or website, which is not predcitable.

### Q2: Although Nate Silver predicted that Clinton would win 2016, he gave Trump higher odds than most. What is unique about Nate Silver’s methodology?

Compared to the usual approach which will take the maximum probabilty as the outcome, Nate Silver’s approach takes a full range of possibilities
instead of just taking one maximum. For example, he calculated the possibilites of different dates of support and after calculation, he utilized the whole set of possibilities to model the shift in the polling numbers and thus get the desire result. He also looked at both the nation-level and test level votes. The whole idea of his approach is based on the Bayes’ Theorem.

### Q3: Discuss why analysts believe predictions were less accurate in 2016. Can anything be done to make future predictions better? What are some challenges for predicting future elections? How do you think journalists communicate results of election forecasting models to a general audience?

In the 2016, as we mentioned in the first question, the media plays a huge role for deciding which side of voters will be, the media overstated
Clinton’s lead, especially in the Costal state. The news will lead to many voters choose Clintion, and feel uncomfortable with Trump. It is the same
situation for the prediction of voting. So if we want to make the future prediction more precise, we might want to find out the potential news in the
polictician. People should able to balance with the media’s instigate and their own thought. The challenges are clear because as people growing,
their experience and knowledge is also growing, so next time maybe they will stick with their choice all the time instead of changing their decision
last second. We think that journalists’ action may also lead to some violations to the model that we are trying to predict. It could cause some people to change their mind once again.

## Data Wrangling

Remove summary rows in the election.raw data. 
```r
knitr::kable(election.raw %>% head) #take a look at the first cases
election = election.raw %>%
  filter(as.character(fips) != as.character(state) & fips !="US")
```

Finding the county level's winner and state level's winner
```r
county_winner = election %>%
  group_by(fips) %>%
  mutate_at(vars(votes),funs(total=sum)) %>%
  mutate(pct = votes/total) %>%
  top_n(.,1,wt=pct)
state_winner = election %>%
  mutate(county=NULL, fips=NULL) %>%
  group_by(state) %>%
  mutate_at(vars(votes),funs(VotesInState=sum))%>%
  group_by(state,candidate) %>%
  mutate_at(vars(votes),funs(sum(votes)))%>%
  mutate(pct=votes/VotesInState)%>%
  group_by(state) %>%
  unique(.) %>%
  top_n(.,1,pct)
```

## Visualization
The following will show the map that visualizes the poverty level of each county, where the darker color of each group shows more federal poverty (above average) while the lighter color of each group represents less federal pvoerty(below average) in that region. For Trump we use the orange and blue for Hillary.As the result, we can see that Hillary has fewer ligiher color county with average lower rate of poverty compared to Trump.

<img src="{{ site.url}}{{site.baseurl}}/images/USelection/PovertyLevel.png"
alt="Country Group By Color">

## Dimension Reduction

Using PCA for both county and sub-county data.

## Classification

### Decision Tree

### Logistic Regression

## Conclusion and Future Thoughts

